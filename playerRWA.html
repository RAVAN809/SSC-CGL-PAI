<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>वीडियो प्लेयर - SSC CGL</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0f0f0f;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .player-container {
            width: 100%;
            max-width: 900px;
            background: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            background: #000;
        }

        #video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            outline: none;
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            z-index: 10;
        }

        .spinner {
            animation: spin 1s linear infinite;
            font-size: 2rem;
            color: #ff2d55;
        }

        @keyframes spin {
            100% { transform: rotate(360deg); }
        }

        .controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 15px;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 5;
            transition: all 0.3s ease;
            opacity: 1;
        }

        .controls.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .progress-container {
            width: 100%;
            height: 5px;
            background: rgba(255,255,255,0.2);
            cursor: pointer;
            position: relative;
            border-radius: 3px;
        }

        #progress-bar {
            height: 100%;
            background: #ff2d55;
            width: 0%;
            position: relative;
            z-index: 2;
            border-radius: 3px;
        }

        #buffer-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
            width: 0%;
            z-index: 1;
            border-radius: 3px;
        }

        #progress-handle {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            border: 2px solid transparent;
            background-image:         
                linear-gradient(135deg, #ffffff, #f0f0f0),
                linear-gradient(90deg, #ff4757, #ffa502, #2ed573, #3742fa, #8e44ad);
            background-origin: border-box;
            background-clip: content-box, border-box;
            box-shadow: 0 0 8px rgba(255, 45, 85, 0.6);
            z-index: 10;
            pointer-events: none;
            transition: transform 0.15s ease, box-shadow 0.15s ease;
        }

        .progress-container:hover #progress-handle {
            transform: translate(-50%, -50%) scale(1.3);
            box-shadow: 0 0 14px rgba(255, 45, 85, 0.8);
        }

        .main-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
        }

        .left-controls, .right-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: nowrap;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.25s, transform 0.25s;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .material-icons {
            font-size: 20px;
        }

        .skip-btn {
            position: relative;
        }

        .skip-btn::before {
            content: '10';
            position: absolute;
            top: -8px;
            right: -5px;
            font-size: 10px;
            color: white;
            background: #ff2d55;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .time-display {
            font-size: 0.9rem;
            min-width: 110px;
            text-align: center;
            color: white;
        }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #volume-slider {
            width: 80px;
            height: 4px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
        }

        #volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
        }

        .settings-menu {
            position: relative;
        }

        .settings-dropdown {
            position: absolute;
            bottom: 50px;
            right: 0;
            background: rgba(30, 30, 30, 0.95);
            border-radius: 8px;
            padding: 8px 0;
            width: 160px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s;
        }

        .settings-menu.active .settings-dropdown {
            opacity: 1;
            pointer-events: all;
        }

        .settings-item {
            padding: 8px 15px;
            cursor: pointer;
            color: white;
        }

        .settings-item:hover {
            color: #ff2d55;
            background: rgba(255, 255, 255, 0.1);
        }

        .settings-item.selected {
            color: #ff2d55;
            font-weight: bold;
        }

        .player-header {
            padding: 15px 20px;
            background: #252525;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .player-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .player-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background 0.3s;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .error-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            max-width: 80%;
            z-index: 20;
        }

        .retry-btn {
            background: #ff2d55;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            margin-top: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .retry-btn:hover {
            background: #ff1a42;
        }

        .quality-indicator {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(0, 0, 0, 0.7);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            z-index: 5;
        }

        @media (max-width: 768px) {
            .player-container {
                border-radius: 0;
            }
            
            .left-controls, .right-controls {
                gap: 5px;
            }
            
            .time-display {
                min-width: 90px;
                font-size: 0.8rem;
            }
            
            .volume-container {
                width: 60px;
            }
            
            #volume-slider {
                width: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="player-container">
        <div class="player-header">
            <div class="player-title">SSC CGL वीडियो प्लेयर</div>
            <div class="player-actions">
                <button class="action-btn" id="download-btn">
                    <span class="material-icons">download</span>
                    डाउनलोड
                </button>
                <button class="action-btn" id="screenshot-btn">
                    <span class="material-icons">photo_camera</span>
                    स्क्रीनशॉट
                </button>
            </div>
        </div>
        
        <div class="video-container">
            <video id="video" playsinline>
                आपका ब्राउज़र वीडियो तत्व का समर्थन नहीं करता है।
            </video>
            
            <div class="loading" id="loading">
                <span class="material-icons spinner">autorenew</span>
                वीडियो लोड हो रहा है...
            </div>
            
            <div class="quality-indicator" id="quality-indicator">720p</div>
            
            <div class="controls">
                <div class="progress-container">
                    <div id="buffer-bar"></div>
                    <div id="progress-bar"></div>
                    <div id="progress-handle"></div>
                </div>
                
                <div class="main-controls">
                    <div class="left-controls">
                        <button class="control-btn" id="play-btn">
                            <span class="material-icons">play_arrow</span>
                        </button>
                        
                        <button class="control-btn skip-btn" id="rewind-btn">
                            <span class="material-icons">replay_10</span>
                        </button>
                        
                        <button class="control-btn skip-btn" id="forward-btn">
                            <span class="material-icons">forward_10</span>
                        </button>
                        
                        <div class="volume-container">
                            <button class="control-btn" id="volume-btn">
                                <span class="material-icons">volume_up</span>
                            </button>
                            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
                        </div>
                        
                        <div class="time-display" id="time-display">0:00 / 0:00</div>
                    </div>
                    
                    <div class="right-controls">
                        <div class="settings-menu" id="settings-menu">
                            <button class="control-btn" id="settings-btn">
                                <span class="material-icons">settings</span>
                            </button>
                            <div class="settings-dropdown" id="settings-dropdown">
                                <div class="settings-item" data-speed="0.5">0.5x</div>
                                <div class="settings-item" data-speed="0.75">0.75x</div>
                                <div class="settings-item selected" data-speed="1">1x</div>
                                <div class="settings-item" data-speed="1.25">1.25x</div>
                                <div class="settings-item" data-speed="1.5">1.5x</div>
                                <div class="settings-item" data-speed="2">2x</div>
                            </div>
                        </div>
                        
                        <button class="control-btn" id="fullscreen-btn">
                            <span class="material-icons">fullscreen</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // वीडियो तत्व और नियंत्रण
            const video = document.getElementById('video');
            const loading = document.getElementById('loading');
            const playBtn = document.getElementById('play-btn');
            const rewindBtn = document.getElementById('rewind-btn');
            const forwardBtn = document.getElementById('forward-btn');
            const volumeBtn = document.getElementById('volume-btn');
            const volumeSlider = document.getElementById('volume-slider');
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const settingsBtn = document.getElementById('settings-btn');
            const settingsMenu = document.getElementById('settings-menu');
            const settingsDropdown = document.getElementById('settings-dropdown');
            const progressContainer = document.querySelector('.progress-container');
            const progressBar = document.getElementById('progress-bar');
            const bufferBar = document.getElementById('buffer-bar');
            const timeDisplay = document.getElementById('time-display');
            const videoContainer = document.querySelector('.video-container');
            const controls = document.querySelector('.controls');
            const downloadBtn = document.getElementById('download-btn');
            const screenshotBtn = document.getElementById('screenshot-btn');
            const qualityIndicator = document.getElementById('quality-indicator');
            
            // वीडियो URL - आपके द्वारा प्रदान किया गया लिंक
            const videoUrl = "https://appx-transcoded-videos-mcdn.akamai.net.in/videos/rozgar-data/1072546-1722882507/hls-55bed0/720p/master-4279100.703974228.m3u8";
            
            // चर
            let hideControlsTimeout;
            let isSettingsOpen = false;
            let isFullscreen = false;
            
            // वीडियो प्रारंभ करें
            function initVideoPlayer() {
                // HLS.js की जाँच करें
                if (typeof Hls !== 'undefined' && Hls.isSupported()) {
                    const hls = new Hls({
                        enableWorker: false,
                        lowLatencyMode: true,
                        backBufferLength: 90
                    });
                    
                    hls.loadSource(videoUrl);
                    hls.attachMedia(video);
                    
                    hls.on(Hls.Events.MANIFEST_PARSED, function() {
                        loading.style.display = 'none';
                        video.play().catch(e => {
                            console.log('ऑटोप्ले ब्लॉक किया गया:', e);
                        });
                    });
                    
                    hls.on(Hls.Events.ERROR, function(event, data) {
                        console.error('HLS त्रुटि:', data);
                        if (data.fatal) {
                            switch(data.type) {
                                case Hls.ErrorTypes.NETWORK_ERROR:
                                    showError('नेटवर्क त्रुटि - कृपया पुनः प्रयास करें');
                                    break;
                                case Hls.ErrorTypes.MEDIA_ERROR:
                                    showError('मीडिया त्रुटि - स्ट्रीम उपलब्ध नहीं है');
                                    break;
                                default:
                                    showError('अज्ञात त्रुटि - कृपया पुनः प्रयास करें');
                                    break;
                            }
                        }
                    });
                } 
                // Apple devices के लिए नेटिव HLS सपोर्ट
                else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                    video.src = videoUrl;
                    video.addEventListener('loadedmetadata', function() {
                        loading.style.display = 'none';
                        video.play().catch(e => {
                            console.log('ऑटोप्ले ब्लॉक किया गया:', e);
                        });
                    });
                } 
                else {
                    showError('आपका ब्राउज़र HLS स्ट्रीमिंग का समर्थन नहीं करता है');
                }
            }
            
            // त्रुटि संदेश दिखाएं
            function showError(message) {
                loading.innerHTML = `
                    <span class="material-icons" style="color: #ff2d55; font-size: 3rem;">error</span>
                    <div>${message}</div>
                    <button class="retry-btn" onclick="window.location.reload()">पुनः प्रयास करें</button>
                `;
            }
            
            // नियंत्रण दिखाएं/छुपाएं
            function showControls() {
                controls.classList.remove('hidden');
                resetHideControlsTimer();
            }
            
            function hideControls() {
                if (!video.paused && !isSettingsOpen) {
                    controls.classList.add('hidden');
                }
            }
            
            function resetHideControlsTimer() {
                clearTimeout(hideControlsTimeout);
                hideControlsTimeout = setTimeout(hideControls, 3000);
            }
            
            // वीडियो कंटेनर पर इवेंट लिसनर्स
            videoContainer.addEventListener('mousemove', showControls);
            videoContainer.addEventListener('click', function(e) {
                if (e.target === videoContainer || e.target === video) {
                    if (controls.classList.contains('hidden')) {
                        showControls();
                    } else {
                        hideControls();
                    }
                }
            });
            
            // प्ले/पॉज़ बटन
            playBtn.addEventListener('click', function() {
                if (video.paused) {
                    video.play();
                } else {
                    video.pause();
                }
                showControls();
            });
            
            video.addEventListener('play', function() {
                playBtn.innerHTML = '<span class="material-icons">pause</span>';
            });
            
            video.addEventListener('pause', function() {
                playBtn.innerHTML = '<span class="material-icons">play_arrow</span>';
            });
            
            // आगे/पीछे बटन
            rewindBtn.addEventListener('click', function() {
                video.currentTime = Math.max(0, video.currentTime - 10);
                showControls();
            });
            
            forwardBtn.addEventListener('click', function() {
                video.currentTime = Math.min(video.duration, video.currentTime + 10);
                showControls();
            });
            
            // प्रोग्रेस बार
            const progressHandle = document.getElementById('progress-handle');
            let isDragging = false;
            
            function updateProgressUI(percent) {
                progressBar.style.width = percent + '%';
                if (progressHandle) {
                    progressHandle.style.left = percent + '%';
                }
            }
            
            function seekToPosition(clientX) {
                const rect = progressContainer.getBoundingClientRect();
                const pos = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));
                const percent = pos * 100;
                updateProgressUI(percent);
                if (!isNaN(video.duration)) {
                    video.currentTime = pos * video.duration;
                }
            }
            
            video.addEventListener('timeupdate', function() {
                if (!isDragging && !isNaN(video.duration)) {
                    const percent = (video.currentTime / video.duration) * 100;
                    updateProgressUI(percent);
                    timeDisplay.textContent = 
                        formatTime(video.currentTime) + ' / ' + formatTime(video.duration);
                }
            });
            
            progressContainer.addEventListener('mousedown', function(e) {
                isDragging = true;
                seekToPosition(e.clientX);
            });
            
            document.addEventListener('mousemove', function(e) {
                if (isDragging) seekToPosition(e.clientX);
            });
            
            document.addEventListener('mouseup', function() {
                isDragging = false;
            });
            
            // टच सपोर्ट (मोबाइल)
            progressContainer.addEventListener('touchstart', function(e) {
                isDragging = true;
                seekToPosition(e.touches[0].clientX);
            });
            
            document.addEventListener('touchmove', function(e) {
                if (isDragging) seekToPosition(e.touches[0].clientX);
            });
            
            document.addEventListener('touchend', function() {
                isDragging = false;
            });
            
            // वॉल्यूम कंट्रोल
            volumeBtn.addEventListener('click', function() {
                if (video.muted) {
                    video.muted = false;
                    volumeSlider.value = video.volume;
                    updateVolumeIcon();
                } else {
                    video.muted = true;
                    volumeSlider.value = 0;
                    volumeBtn.innerHTML = '<span class="material-icons">volume_off</span>';
                }
                showControls();
            });
            
            volumeSlider.addEventListener('input', function(e) {
                video.volume = e.target.value;
                updateVolumeIcon();
                showControls();
            });
            
            function updateVolumeIcon() {
                if (video.volume === 0) {
                    volumeBtn.innerHTML = '<span class="material-icons">volume_off</span>';
                } else if (video.volume < 0.5) {
                    volumeBtn.innerHTML = '<span class="material-icons">volume_down</span>';
                } else {
                    volumeBtn.innerHTML = '<span class="material-icons">volume_up</span>';
                }
            }
            
            // सेटिंग्स मेनू
            settingsBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                isSettingsOpen = !isSettingsOpen;
                settingsMenu.classList.toggle('active', isSettingsOpen);
                showControls();
            });
            
            document.addEventListener('click', function(e) {
                if (isSettingsOpen && !settingsDropdown.contains(e.target)) {
                    isSettingsOpen = false;
                    settingsMenu.classList.remove('active');
                }
            });
            
            settingsDropdown.querySelectorAll('.settings-item').forEach(item => {
                item.addEventListener('click', function() {
                    const speed = parseFloat(this.dataset.speed);
                    video.playbackRate = speed;
                    settingsDropdown.querySelectorAll('.settings-item').forEach(i => {
                        i.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    showControls();
                });
            });
            
            // फुलस्क्रीन
            fullscreenBtn.addEventListener('click', function() {
                if (!isFullscreen) {
                    if (videoContainer.requestFullscreen) {
                        videoContainer.requestFullscreen();
                    } else if (videoContainer.webkitRequestFullscreen) {
                        videoContainer.webkitRequestFullscreen();
                    } else if (videoContainer.msRequestFullscreen) {
                        videoContainer.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
                showControls();
            });
            
            document.addEventListener('fullscreenchange', function() {
                isFullscreen = !!document.fullscreenElement;
                fullscreenBtn.innerHTML = isFullscreen ? 
                    '<span class="material-icons">fullscreen_exit</span>' : 
                    '<span class="material-icons">fullscreen</span>';
            });
            
            // डबल क्लिक से फुलस्क्रीन टॉगल
            video.addEventListener('dblclick', function() {
                fullscreenBtn.click();
            });
            
            // डाउनलोड बटन
            downloadBtn.addEventListener('click', function() {
                const a = document.createElement('a');
                a.href = videoUrl;
                a.download = 'SSC-CGL-Video.mp4';
                a.target = '_blank';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            });
            
            // स्क्रीनशॉट बटन
            screenshotBtn.addEventListener('click', function() {
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `SSC-CGL-Screenshot-${new Date().getTime()}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                });
            });
            
            // समय फॉर्मेटिंग
            function formatTime(seconds) {
                const hrs = Math.floor(seconds / 3600);
                const mins = Math.floor((seconds % 3600) / 60);
                const secs = Math.floor(seconds % 60);
                
                if (hrs > 0) {
                    return hrs + ':' +
                           (mins < 10 ? '0' : '') + mins + ':' +
                           (secs < 10 ? '0' : '') + secs;
                } else {
                    return mins + ':' + (secs < 10 ? '0' : '') + secs;
                }
            }
            
            // प्लेयर प्रारंभ करें
            initVideoPlayer();
        });
    </script>
    
    <!-- HLS.js लाइब्रेरी -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</body>
  </html>
